#### 使用gcc编译c文件为可执行文件

##### 编译的命令：

-    `gcc xxx.c -o xxx`

##### 执行的命令：

-    `./xxx`

##### 编译的四个步骤：

-   使用gcc把C文件编译成可执行文件可分为四步：**预编译**、**编译**、**汇编**、**连接**。

    1.  **预编译（生成 `.i` 文件）**

        预编译器把源文件和相关的头文件预编译成一个 `.i` 的文件。

        执行的命令： `gcc -E xxx.c -o xxx.i`

        **预编译的作用：**

        1.  处理所有的 `#include` 预编译指令
        2.  处理所有的 `#define` 指令，将代码中所有的 `#define` 删除，并展开所有的宏定义
        3.  处理所有的条件预编译指令，如 `#if` 、 `#elif` 、 `#else` 、 `#ifdef` 、 `#ifnodef` 、 `#endif` 等
        4.  删除所有的注释
        5.  添加行号和文件名标识，以便产生错误时给出提示信息

    2.  **编译（生成 `.s` 文件）**

        编译器把预处理后的文件进行语法分析、语义分析以及优化后生成汇编代码文件。

        执行的命令： `gcc -S xxx.i -o xxx.s`

    3.  **汇编(生成 `.o` 文件)**

        汇编器把汇编代码文件转换成中间目标文件

        执行的命令： `gcc -c xxx.s -o xxx.o` 

    4.  **链接(生成可执行文件)**

        链接器把目标文件与所需要的所有的附加的目标文件(如静态链接库、动态链接库)链接起来成为可执行的文件

        执行的命令： `gcc hello.o -o hello`

    

